var cull=function(a){function d(a){return!!a&&typeof a=="object"&&typeof a.length=="number"&&!a.tagName}function e(a){return c.call(a)==="[object Array]"?a:d(a)?b.call(a):typeof a=="undefined"||a===null?[]:b.call(arguments)}function f(a,b){var c,d;for(c=0,d=b.length;c<d;++c)a(b[c],c,b)}function g(a){return typeof a=="function"}function h(a,b,c){var d=0,e,f=c,g=b;arguments.length===2&&(f=b,g=f[0],d=1),typeof f=="string"&&(f=f.split(""));for(e=f.length;d<e;++d)g=a(g,f[d]);return g}function i(a,b){var c,d;for(c=0,d=b.length;c<d;++c)if(!a(b[c]))return!1;return!0}function j(a,b){var c,d;for(c=0,d=b.length;c<d;++c)if(a(b[c]))return!0;return!1}function k(a,b){var c,d,e,f;for(c=0,d=b.length;c<d;++c){a(b[c])?e=!0:f=!0;if(e&&f)return!0}return!1}function l(a){return a.trim&&a.trim()||a.replace(/^\s+|\s+$/,"")}function m(a){return a}function n(a){return typeof a!="undefined"&&a!==null}function o(a){return function(b){return a.call(this,b)}}function p(a){return function(b){return b[a]}}function q(a,b){return function(c){return c[a].apply(c,e(b))}}function r(a){return function(b){return a===b}}function t(a,b){var c=e(a);return function(){var a=c.length,d=arguments;while(a--)d=[c[a].apply(b||this,d)];return d[0]}}function u(){var a=arguments;return function(b){return b.apply(this,a)}}function v(a){var c=b.call(arguments,1);return function(){return a.apply(this,c.concat(b.call(arguments)))}}function w(a,c){var d=typeof c=="string"?a[c]:c,e=b.call(arguments,2);return function(){return d.apply(a,e.concat(b.call(arguments)))}}function x(a){var b=[],c,e;for(c=0,e=a.length;c<e;c++)b=b.concat(d(a[c])?x(a[c]):a[c]);return b}function y(a,b){var c,d;for(c=0,d=b.length;c<d;++c)if(a===b[c])return c;return-1}function z(a){var b=[],c,d;for(c=0,d=a.length;c<d;++c)y(a[c],b)<0&&b.push(a[c]);return b}function A(a,b){var c,d;for(c=0,d=b.length;c<d;++c)if(a(b[c]))return b[c]}function B(a,b){var c=[],d,e;for(d=0,e=b.length;d<e;++d)a(b[d])&&c.push(b[d]);return c}function C(a,b){return B(function(a){return y(a,b)<0},a)}function D(a){var b,c=[];for(b in a)a.hasOwnProperty(b)&&c.push(b);return c}function E(a){var b,c=[];for(b in a)a.hasOwnProperty(b)&&c.push(a[b]);return c}function G(a,b){var c=[],d,e;for(d=0,e=b.length;d<e;d++)c.push(a(b[d]));return c}function H(a){return function(){return!a.apply(this,arguments)}}function I(a,b){return B(H(a),b)}function J(a,b){return e(a).concat(e(b))}function K(a,b){var c=[],d,e;for(d=0,e=b.length;d<e;d+=a)c.push(b.slice(d,d+a));return c}function L(a,b){return F(G(a,F(b)))}function M(a,b){return h(J,G(a,b))}function N(a,b){var c=[],d,e;for(d=0,e=b.length;d<e;d+=1)c.push(b[d]),d<e-1&&c.push(a);return c}function O(a,c,d){var e=a[c];a[c]=function(){var a=e.apply(this,arguments),c=d.apply(this,[a].concat(b.call(arguments)));return typeof c!="undefined"?c:a}}function P(a,b,c){var d=a[b];a[b]=function(){return c.apply(this,arguments),d.apply(this,arguments)}}function Q(a,b,c){var d=v(c,a[b]);a[b]=function(){return d.apply(this,arguments)}}"use strict";var b=Array.prototype.slice,c=Object.prototype.toString,s="compose takes func|[funcs] and optional thisp object",F=v(B,n);return{trim:l,doall:f,reduce:h,all:i,some:j,onlySome:k,isFunction:g,isList:d,toList:e,identity:m,defined:n,unary:o,prop:p,func:q,eq:r,compose:t,callWith:u,partial:v,bind:w,keys:D,values:E,concat:J,flatten:x,uniq:z,first:A,select:B,negate:H,reject:I,seldef:F,map:G,mapdef:L,mapcat:M,partition:K,difference:C,interpose:N,indexOf:y,after:O,before:P,around:Q}}(this);typeof require=="function"&&typeof module!="undefined"&&(module.exports=cull)var dome=function(a){function b(c){if(a.isList(c))return a.flatten(a.map(b,c));var d=[],e=c.firstChild;while(e)e.nodeType===1&&d.push(e),e=e.nextSibling;return d}function c(a){return document.getElementById(a)}function d(b,d){d||(d=document);var e=function(b,e){if(/^#/.test(e))return b.concat(c(e.slice(1)));if(/^\./.test(e)){var f=e.slice(1);return a.concat(b,d.getElementsByClassName(f))}return a.concat(b,d.getElementsByTagName(e))};return a.uniq(a.reduce(e,[],a.toList(b)))}function e(a){a.parentNode.removeChild(a)}function f(a,b){var c=new RegExp("(^|\\s)"+a+"(\\s|$)");return c.test(b.className)}function g(b,c){if(a.isList(c))return a.doall(a.partial(g,b),c);if(f(b,c))return;c.className=a.trim(c.className+" "+b)}function h(b,c){if(a.isList(c))return a.doall(a.partial(h,b),c);if(!f(b,c))return;var d=new RegExp("(^|\\s)"+b+"(\\s|$)");c.className=a.trim(c.className.replace(d," "))}function i(a){var b=a.nodeType;if(b===1||b===9||b===11){if(typeof a.textContent=="string")return a.textContent;var c="";for(a=a.firstChild;a;a=a.nextSibling)c+=i(a);return c}return b===3||b===4?a.nodeValue:""}function j(b){var c=document.createDocumentFragment();return a.doall(a.bind(c,"appendChild"),a.toList(b)),c}function m(a,b){var c;a=a||{};for(c in a)a.hasOwnProperty(c)&&(b.setAttribute("data-"+c,a[c]),b["data-"+c]=a[c])}function n(a,b){return b.getAttribute("data-"+a)}function p(a,b){var c,d;a=a||{};for(c in a)a.hasOwnProperty(c)&&(d=o[c],d?d(b,a[c]):b[c]=a[c])}function q(b,c){b=a.toList(b);var d,e;for(d=0,e=b.length;d<e;++d)typeof b[d]=="string"?c.appendChild(document.createTextNode(b[d])):c.appendChild(b[d])}function r(a,b){b.innerHTML="",q(a,b)}var k,l=function(b){return b!==null&&typeof b!="undefined"&&(typeof b.nodeType!="undefined"||typeof b=="string"||a.isList(b))},o={style:function(a,b){var c;for(c in b)b.hasOwnProperty(c)&&(a.style[c]=b[c])},data:function(a,b){m(b,a)}};return k=function(a,b,c){if(!c&&l(b))return k(a,{},b);var d=document.createElement(a);return p(b,d),q(c||[],d),d},k.toString=function(){return"dome.el()"},a.doall(function(b){k[b]=a.partial(k,b)},["a","br","div","fieldset","form","h2","h3","h4","h5","img","input","label","li","p","span","strong","textarea","ul","span","select","option","ol","iframe","table","tr","td","pre","button","i"]),{propmap:o,el:k,setProp:p,append:q,setContent:r,children:b,id:c,get:d,remove:e,frag:j,text:i,data:{get:n,set:m},cn:{has:f,add:g,rm:h}}}(this.cull)!function(t,e,i){var o=["webkit","Moz","ms","O"],r={},n;function a(t,i){var o=e.createElement(t||"div"),r;for(r in i)o[r]=i[r];return o}function s(t){for(var e=1,i=arguments.length;e<i;e++)t.appendChild(arguments[e]);return t}var f=function(){var t=a("style",{type:"text/css"});s(e.getElementsByTagName("head")[0],t);return t.sheet||t.styleSheet}();function l(t,e,i,o){var a=["opacity",e,~~(t*100),i,o].join("-"),s=.01+i/o*100,l=Math.max(1-(1-t)/e*(100-s),t),p=n.substring(0,n.indexOf("Animation")).toLowerCase(),u=p&&"-"+p+"-"||"";if(!r[a]){f.insertRule("@"+u+"keyframes "+a+"{"+"0%{opacity:"+l+"}"+s+"%{opacity:"+t+"}"+(s+.01)+"%{opacity:1}"+(s+e)%100+"%{opacity:"+t+"}"+"100%{opacity:"+l+"}"+"}",f.cssRules.length);r[a]=1}return a}function p(t,e){var r=t.style,n,a;if(r[e]!==i)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(a=0;a<o.length;a++){n=o[a]+e;if(r[n]!==i)return n}}function u(t,e){for(var i in e)t.style[p(t,i)||i]=e[i];return t}function c(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var r in o)if(t[r]===i)t[r]=o[r]}return t}function d(t){var e={x:t.offsetLeft,y:t.offsetTop};while(t=t.offsetParent)e.x+=t.offsetLeft,e.y+=t.offsetTop;return e}var h={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",speed:1,trail:100,opacity:1/4,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};function m(t){if(!this.spin)return new m(t);this.opts=c(t||{},m.defaults,h)}m.defaults={};c(m.prototype,{spin:function(t){this.stop();var e=this,i=e.opts,o=e.el=u(a(0,{className:i.className}),{position:i.position,width:0,zIndex:i.zIndex}),r=i.radius+i.length+i.width,s,f;if(t){t.insertBefore(o,t.firstChild||null);f=d(t);s=d(o);u(o,{left:(i.left=="auto"?f.x-s.x+(t.offsetWidth>>1):parseInt(i.left,10)+r)+"px",top:(i.top=="auto"?f.y-s.y+(t.offsetHeight>>1):parseInt(i.top,10)+r)+"px"})}o.setAttribute("aria-role","progressbar");e.lines(o,e.opts);if(!n){var l=0,p=i.fps,c=p/i.speed,h=(1-i.opacity)/(c*i.trail/100),m=c/i.lines;(function y(){l++;for(var t=i.lines;t;t--){var r=Math.max(1-(l+t*m)%c*h,i.opacity);e.opacity(o,i.lines-t,r,i)}e.timeout=e.el&&setTimeout(y,~~(1e3/p))})()}return e},stop:function(){var t=this.el;if(t){clearTimeout(this.timeout);if(t.parentNode)t.parentNode.removeChild(t);this.el=i}return this},lines:function(t,e){var i=0,o;function r(t,o){return u(a(),{position:"absolute",width:e.length+e.width+"px",height:e.width+"px",background:t,boxShadow:o,transformOrigin:"left",transform:"rotate("+~~(360/e.lines*i+e.rotate)+"deg) translate("+e.radius+"px"+",0)",borderRadius:(e.corners*e.width>>1)+"px"})}for(;i<e.lines;i++){o=u(a(),{position:"absolute",top:1+~(e.width/2)+"px",transform:e.hwaccel?"translate3d(0,0,0)":"",opacity:e.opacity,animation:n&&l(e.opacity,e.trail,i,e.lines)+" "+1/e.speed+"s linear infinite"});if(e.shadow)s(o,u(r("#000","0 0 4px "+"#000"),{top:2+"px"}));s(t,s(o,r(e.color,"0 0 1px rgba(0,0,0,.1)")))}return t},opacity:function(t,e,i){if(e<t.childNodes.length)t.childNodes[e].style.opacity=i}});(function(){function t(t,e){return a("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',e)}var e=u(a("group"),{behavior:"url(#default#VML)"});if(!p(e,"transform")&&e.adj){f.addRule(".spin-vml","behavior:url(#default#VML)");m.prototype.lines=function(e,i){var o=i.length+i.width,r=2*o;function n(){return u(t("group",{coordsize:r+" "+r,coordorigin:-o+" "+-o}),{width:r,height:r})}var a=-(i.width+i.length)*2+"px",f=u(n(),{position:"absolute",top:a,left:a}),l;function p(e,r,a){s(f,s(u(n(),{rotation:360/i.lines*e+"deg",left:~~r}),s(u(t("roundrect",{arcsize:i.corners}),{width:o,height:i.width,left:i.radius,top:-i.width>>1,filter:a}),t("fill",{color:i.color,opacity:i.opacity}),t("stroke",{opacity:0}))))}if(i.shadow)for(l=1;l<=i.lines;l++)p(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(l=1;l<=i.lines;l++)p(l);return s(e,f)};m.prototype.opacity=function(t,e,i,o){var r=t.firstChild;o=o.shadow&&o.lines||0;if(r&&e+o<r.childNodes.length){r=r.childNodes[e+o];r=r&&r.firstChild;r=r&&r.firstChild;if(r)r.opacity=i}}}else n=p(e,"animation")})();if(typeof define=="function"&&define.amd)define(function(){return m});else t.Spinner=m}(window,document);